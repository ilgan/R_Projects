---
title: "HW4"
author: "iganelin"
date: "October 4, 2017"
output:
  github_document: default
---
# Homework 4

### Loading libraries
```{r}
library(gapminder)
library(tidyverse)
library(knitr)
library(dplyr)
```

## Activity #1:  Minimal guide to tidyr

This is a minimal guide, mostly for myself, to remind me of the most import tidyr functions **gather** and **spread** functions that I'm familiar with. Also check out [A tidyr Tutorial](http://data.library.virginia.edu/a-tidyr-tutorial/).

Start with installing the package using following commands **install.packages("tidyverse")** and **install.packages("tidyr")**.

We will be using the **gapminder** data as our input.
- Firstly, let's create a data frame to manipulate with:
```{r}
dp <- gapminder %>%
  group_by(continent) %>% 
  summarize(mean_gdpPercap = mean(gdpPercap),
              n_countries    = length(gdpPercap))

continents <- data.frame(
   continent = dp$continent,
   meanGdp   = dp$mean_gdpPercap,
   n_countries = dp$n_countries)
continents 
```
- The help page for gather says that it “takes multiple columns and collapses into key-value pairs, duplicating all other columns as needed” 
```{r}
continentsG <- gather(data = continents, key = continent, value = meanGdp)
continentsG
```
...or as we call it "melting data".
![](melting.png)

## Activity #2: Make a tibble with one row per year and columns for life expectancy for two or more countries.

- A tibble with *year* as a measure, *gdpPercap* as a value for Canada and Australia.
```{r}
leTbl <- select(filter(gapminder, country %in% c("Canada", "Australia")),
      year, country, lifeExp) %>% 
      gather(measure, value, lifeExp) %>% 
      arrange(country, year)
kable(leTbl, format = "markdown", caption = "Life Expectancy in Canada and Australia")
```

- A scatterplot of life expectancy for Canada against Australia.
```{r}
ggplot(leTbl, aes(x=year, y=value, colour=country))+
  geom_point() +
  geom_smooth() +
  scale_x_continuous("Year") +
  scale_y_continuous("Life Expectancy") +
  labs(title = "Life Expectancy in Canada and Australia") +
  theme_classic()
```

- We can see from the scatterplot that from 1958 and until 1999 the life expectancy in Canada was higher.


## Activity #3 Compute some measure of life expectancy.























